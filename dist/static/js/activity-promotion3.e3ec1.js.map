{"version":3,"sources":["webpack:///./src/page/activity-promotion3/index.js","webpack:///./src/util/index.js"],"names":["userIp","Object","__WEBPACK_IMPORTED_MODULE_2_util__","listEle","init","_this","this","contain","$","show","bindEvent","ajax","url","type","data","success","_ref","code","msg","rows","generateList","alert","error","on","window","location","href","tpl","each","index","item","id","logoUrl","productName","successCount","html","__webpack_require__","d","__webpack_exports__","getQueryString","reg","RegExp","name","r","search","substr","match","decodeURIComponent"],"mappings":"iKAMIA,EAASC,OAAAC,EAAA,EAAAD,CAAe,YAGxBE,QAAQ,KACRC,KAFa,WAEP,IAAAC,EAAAC,KACFA,KAAKC,QAAUC,EAAE,cAAcC,OAC/BH,KAAKH,QAAUK,EAAE,gBACjBF,KAAKI,YAELF,EAAEG,MACEC,IAAI,0BACJC,KAAK,OACLC,MAEId,OAAQA,GAEZe,QAAS,SAAAC,GAA+B,IAA5BC,EAA4BD,EAA5BC,KAAMC,EAAsBF,EAAtBE,IAAYC,EAAUH,EAAjBF,KAAOK,KACb,MAATF,EAEAZ,EAAKe,aAAaD,GAElBE,MAAMH,IAGdI,MAAM,WACFD,MAAM,mBAIlBX,UA3Ba,WA4BTJ,KAAKH,QAAQoB,GAAG,QAAS,eAAgB,WACrCC,OAAOC,SAASC,KAAO,2BAA6BlB,EAAEF,MAAMQ,KAAK,SAGzEM,aAhCa,SAgCAN,GACT,IAAIa,EAAM,GACVnB,EAAEoB,KAAKd,EAAM,SAACe,EAAMC,GAChBH,wCAA4CG,EAAKC,GAAjD,8JAGgCD,EAAKE,QAAUF,EAAKE,QAAQ,IAH5D,6JAM+CF,EAAKG,YANpD,wEAOmDH,EAAKI,aAPxD,oaAkBJ5B,KAAKH,QAAQgC,KAAKR,MAIfvB,+DCjEXgC,EAAAC,EAAAC,EAAA,sBAAAC,IACO,IAAMA,EAAiB,WAC1B,IAAIC,EAAM,IAAIC,OAAO,QAAUC,KAAO,gBAAiB,KACnDC,EAAInB,OAAOC,SAASmB,OAAOC,OAAO,GAAGC,MAAMN,GAC/C,OAAOG,EAAII,mBAAmBJ,EAAE,IAAM","file":"static/js/activity-promotion3.e3ec1.js","sourcesContent":["import 'common/styles/reset.scss';\r\nimport './index.scss';\r\nimport { getQueryString } from 'util'\r\n\r\n\r\n//获取url参数\r\nlet userIp = getQueryString('userIp');\r\n\r\nlet producList = {\r\n    listEle:null,\r\n    init(){\r\n        this.contain = $('.container').show();\r\n        this.listEle = $('#produc-list');\r\n        this.bindEvent();\r\n        //开始请求\r\n        $.ajax({\r\n            url:'/product/newDynamicList',\r\n            type:'POST',\r\n            data: {\r\n                // groupId: groupId,\r\n                userIp: userIp\r\n            },\r\n            success: ({ code, msg, data: {rows} })=>{\r\n                if (code === 1000000){\r\n                    //产品列表\r\n                    this.generateList(rows);\r\n                }else{\r\n                    alert(msg);\r\n                }\r\n            },\r\n            error:()=>{\r\n                alert('请求失败,请联系管理员');\r\n            }\r\n        });\r\n    },\r\n    bindEvent(){\r\n        this.listEle.on('click', '.produc-item', function () {\r\n            window.location.href = 'http://www.baidu.com?id=' + $(this).data('id');\r\n        });\r\n    },\r\n    generateList(data){\r\n        let tpl = '';\r\n        $.each(data, (index,item)=>{\r\n            tpl += `<div class=\"produc-item\" data-id=\"${item.id}\">\r\n                        <div class=\"produc-top\">\r\n                            <div class=\"produc-img-box\">\r\n                                <img src=\"${item.logoUrl ? item.logoUrl:''}\" />\r\n                            </div>\r\n                            <div class=\"produc-desc\">\r\n                                <div class=\"produc-name\">${item.productName}</div>\r\n                                <div class=\"produc-person\">已借${item.successCount}人</div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"produc-bottom\">\r\n                            <span class=\"produc-info\">最高额度 10万</span>\r\n                            <span class=\"produc-info\">参考月息 0.01%</span>\r\n                            <span class=\"produc-info\">期限范围 7-30日</span>\r\n                        </div>          \r\n                    </div>`;\r\n        });\r\n\r\n        this.listEle.html(tpl);\r\n    }\r\n};\r\n\r\nproducList.init();\n\n\n// WEBPACK FOOTER //\n// ./src/page/activity-promotion3/index.js","//获取url参数\r\nexport const getQueryString = ()=>{\r\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n    var r = window.location.search.substr(1).match(reg);\r\n    return r ? decodeURIComponent(r[2]) : null;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/index.js"],"sourceRoot":""}