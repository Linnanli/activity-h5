{"version":3,"sources":["webpack:///./src/page/activity-promotion2/index.js","webpack:///./src/util/index.js"],"names":["userIp","reg","RegExp","name","r","window","location","search","substr","match","decodeURIComponent","getQueryString","listEle","init","_this","this","$","bindEvent","ajax","url","type","data","success","_ref","code","msg","rows","generateList","alert","error","on","href","tpl","each","index","item","id","logoUrl","productName","html"],"mappings":"yKAMIA,ECL0B,WAC1B,IAAIC,EAAM,IAAIC,OAAO,QAAUC,KAAO,gBAAiB,KACnDC,EAAIC,OAAOC,SAASC,OAAOC,OAAO,GAAGC,MAAMR,GAC/C,OAAOG,EAAIM,mBAAmBN,EAAE,IAAM,KDE7BO,KAGTC,QAAQ,KACRC,KAFa,WAEP,IAAAC,EAAAC,KACFA,KAAKH,QAAUI,EAAE,gBACjBD,KAAKE,YAELD,EAAEE,MACEC,IAAI,0BACJC,KAAK,OACLC,MAEIrB,OAAQA,GAEZsB,QAAS,SAAAC,GAA+B,IAA5BC,EAA4BD,EAA5BC,KAAMC,EAAsBF,EAAtBE,IAAYC,EAAUH,EAAjBF,KAAOK,KACb,MAATF,EAEAV,EAAKa,aAAaD,GAElBE,MAAMH,IAGdI,MAAM,WACFD,MAAM,mBAIlBX,UA1Ba,WA2BTF,KAAKH,QAAQkB,GAAG,QAAS,eAAgB,WACrCzB,OAAOC,SAASyB,KAAO,2BAA6Bf,EAAED,MAAMM,KAAK,SAGzEM,aA/Ba,SA+BAN,GACT,IAAIW,EAAM,GACVhB,EAAEiB,KAAKZ,EAAM,SAACa,EAAMC,GAChBH,wCAA4CG,EAAKC,GAAjD,mGAE4BD,EAAKE,QAFjC,yFAIuCF,EAAKG,YAJ5C,uCAQJvB,KAAKH,QAAQ2B,KAAKP,MAIfnB","file":"static/js/activity-promotion2.07973.js","sourcesContent":["import 'common/styles/reset.scss';\r\nimport './index.scss';\r\nimport { getQueryString } from 'util'\r\n\r\n\r\n//获取url参数\r\nlet userIp = getQueryString('userIp');\r\n\r\nlet producList = {\r\n    listEle:null,\r\n    init(){\r\n        this.listEle = $('#produc-list');\r\n        this.bindEvent();\r\n        //开始请求\r\n        $.ajax({\r\n            url:'/product/newDynamicList',\r\n            type:'POST',\r\n            data: {\r\n                // groupId: groupId,\r\n                userIp: userIp\r\n            },\r\n            success: ({ code, msg, data: {rows} })=>{\r\n                if (code === 1000000){\r\n                    //产品列表\r\n                    this.generateList(rows);\r\n                }else{\r\n                    alert(msg);\r\n                }\r\n            },\r\n            error:()=>{\r\n                alert('请求失败,请联系管理员');\r\n            }\r\n        });\r\n    },\r\n    bindEvent(){\r\n        this.listEle.on('click', '.produc-item', function () {\r\n            window.location.href = 'http://www.baidu.com?id=' + $(this).data('id');\r\n        });\r\n    },\r\n    generateList(data){\r\n        let tpl = '';\r\n        $.each(data, (index,item)=>{\r\n            tpl += `<div class=\"produc-item\" data-id=\"${item.id}\">\r\n                        <div class=\"produc-img-box\">\r\n                            <img src=\"${item.logoUrl}\"/>\r\n                        </div>\r\n                        <div class=\"produc-name\">${item.productName}</div>\r\n                    </div>`\r\n        });\r\n\r\n        this.listEle.html(tpl);\r\n    }\r\n};\r\n\r\nproducList.init();\n\n\n// WEBPACK FOOTER //\n// ./src/page/activity-promotion2/index.js","//获取url参数\r\nexport const getQueryString = ()=>{\r\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n    var r = window.location.search.substr(1).match(reg);\r\n    return r ? decodeURIComponent(r[2]) : null;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/index.js"],"sourceRoot":""}