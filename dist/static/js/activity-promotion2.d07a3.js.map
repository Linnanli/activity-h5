{"version":3,"sources":["webpack:///./src/page/activity-promotion2/index.js","webpack:///./src/util/index.js"],"names":["userIp","Object","__WEBPACK_IMPORTED_MODULE_2_util__","listEle","init","_this","this","contain","$","show","bindEvent","ajax","url","type","data","groupId","window","global","success","_ref","code","msg","rows","generateList","alert","error","on","location","href","tpl","each","index","item","id","logoUrl","productName","html","__webpack_require__","d","__webpack_exports__","getQueryString","reg","RegExp","name","r","search","substr","match","decodeURIComponent"],"mappings":"2MAMIA,EAASC,OAAAC,EAAA,EAAAD,CAAe,YAGxBE,QAAQ,KACRC,KAFa,WAEP,IAAAC,EAAAC,KACFA,KAAKC,QAAUC,EAAE,cAAcC,OAC/BH,KAAKH,QAAUK,EAAE,gBACjBF,KAAKI,YAELF,EAAEG,MACEC,IAAI,0BACJC,KAAK,OACLC,MACIC,QAASC,OAAOC,OAAOF,QACvBf,OAAQA,GAEZkB,QAAS,SAAAC,GAA+B,IAA5BC,EAA4BD,EAA5BC,KAAMC,EAAsBF,EAAtBE,IAAYC,EAAUH,EAAjBL,KAAOQ,KACb,MAATF,EAEAf,EAAKkB,aAAaD,GAElBE,MAAMH,IAGdI,MAAM,WACFD,MAAM,mBAIlBd,UA3Ba,WA4BTJ,KAAKH,QAAQuB,GAAG,QAAS,eAAgB,WACrCV,OAAOW,SAASC,KAAO,2BAA6BpB,EAAEF,MAAMQ,KAAK,SAGzES,aAhCa,SAgCAT,GACT,IAAIe,EAAM,GACVrB,EAAEsB,KAAKhB,EAAM,SAACiB,EAAMC,GAChBH,wCAA4CG,EAAKC,GAAjD,oGAE4BD,EAAKE,QAAUF,EAAKE,QAAQ,IAFxD,yFAIuCF,EAAKG,YAJ5C,uCAQJ7B,KAAKH,QAAQiC,KAAKP,MAIfzB,0CCvDXiC,EAAAC,EAAAC,EAAA,sBAAAC,IACO,IAAMA,EAAiB,WAC1B,IAAIC,EAAM,IAAIC,OAAO,QAAUC,KAAO,gBAAiB,KACnDC,EAAI5B,OAAOW,SAASkB,OAAOC,OAAO,GAAGC,MAAMN,GAC/C,OAAOG,EAAII,mBAAmBJ,EAAE,IAAM","file":"static/js/activity-promotion2.d07a3.js","sourcesContent":["import 'common/styles/reset.scss';\r\nimport './index.scss';\r\nimport { getQueryString } from 'util'\r\n\r\n\r\n//获取url参数\r\nlet userIp = getQueryString('userIp');\r\n\r\nlet producList = {\r\n    listEle:null,\r\n    init(){\r\n        this.contain = $('.container').show();\r\n        this.listEle = $('#produc-list');\r\n        this.bindEvent();\r\n        //开始请求\r\n        $.ajax({\r\n            url:'/product/newDynamicList',\r\n            type:'POST',\r\n            data: {\r\n                groupId: window.global.groupId,\r\n                userIp: userIp\r\n            },\r\n            success: ({ code, msg, data: {rows} })=>{\r\n                if (code === 1000000){\r\n                    //产品列表\r\n                    this.generateList(rows);\r\n                }else{\r\n                    alert(msg);\r\n                }\r\n            },\r\n            error:()=>{\r\n                alert('请求失败,请联系管理员');\r\n            }\r\n        });\r\n    },\r\n    bindEvent(){\r\n        this.listEle.on('click', '.produc-item', function () {\r\n            window.location.href = 'http://www.baidu.com?id=' + $(this).data('id');\r\n        });\r\n    },\r\n    generateList(data){\r\n        let tpl = '';\r\n        $.each(data, (index,item)=>{\r\n            tpl += `<div class=\"produc-item\" data-id=\"${item.id}\">\r\n                        <div class=\"produc-img-box\">\r\n                            <img src=\"${item.logoUrl ? item.logoUrl:''}\"/>\r\n                        </div>\r\n                        <div class=\"produc-name\">${item.productName}</div>\r\n                    </div>`;\r\n        });\r\n\r\n        this.listEle.html(tpl);\r\n    }\r\n};\r\n\r\nproducList.init();\n\n\n// WEBPACK FOOTER //\n// ./src/page/activity-promotion2/index.js","//获取url参数\r\nexport const getQueryString = ()=>{\r\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n    var r = window.location.search.substr(1).match(reg);\r\n    return r ? decodeURIComponent(r[2]) : null;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/index.js"],"sourceRoot":""}